import{r as e}from"./react-vendor-DRWCCA6X.js";const t=()=>{const t=e.useCallback((e,t={})=>{const r=JSON.parse(localStorage.getItem("analytics_events")||"[]");r.push({event:e,properties:t,timestamp:(new Date).toISOString()}),localStorage.setItem("analytics_events",JSON.stringify(r))},[]),r=e.useCallback(e=>{t("page_view",{page:e})},[t]),a=e.useCallback((e,r={})=>{t("user_action",{action:e,...r})},[t]),n=e.useCallback((e,r={})=>{t("onboarding_step",{step:e,...r})},[t]),o=e.useCallback((e,r=null)=>{t("conversion",{type:e,value:r})},[t]),s=e.useCallback((e,r={})=>{t("error",{error:e.message||e,stack:e.stack,...r})},[t]),c=e.useCallback((e,r,a={})=>{t("performance",{metric:e,value:r,...a})},[t]);return{trackEvent:t,trackPageView:r,trackUserAction:a,trackOnboardingStep:n,trackConversion:o,trackError:s,trackPerformance:c}},r=()=>{e.useEffect(()=>{const e=()=>{performance.timing&&(performance.timing.loadEventEnd,performance.timing.navigationStart,performance.timing.domContentLoadedEventEnd,performance.timing.navigationStart)},t=()=>{new PerformanceObserver(e=>{const t=e.getEntries();t[t.length-1]}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{})}).observe({entryTypes:["first-input"]});let e=0;new PerformanceObserver(t=>{t.getEntries().forEach(t=>{t.hadRecentInput||(e+=t.value)})}).observe({entryTypes:["layout-shift"]})},r=()=>{performance.getEntriesByType("resource").filter(e=>e.duration>1e3).length};"complete"===document.readyState?(e(),t(),r()):window.addEventListener("load",()=>{e(),t(),r()})},[])};export{r as a,t as u};
