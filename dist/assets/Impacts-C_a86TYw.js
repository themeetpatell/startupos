import{r as e,j as t,R as s,am as i,aT as a,s as r,aU as l,J as n,C as d,aw as c,aV as o,aW as m,ab as x,T as p,aX as u,w as g,aA as b,e as h,a3 as y,f as j,X as v,g as f,aE as N,b as w}from"./react-vendor-8tB9hsER.js";import{m as C,A as k}from"./animation-vendor-DARDaHgl.js";import"./vendor-BnE8vgaR.js";const I=()=>{const[I,S]=e.useState("strategy"),[R,D]=e.useState([]),[P,A]=e.useState(null),[M,z]=e.useState(!1),[$,T]=e.useState(!1),[K,O]=e.useState(!1),[E,L]=e.useState(!1),[G,F]=e.useState(!1),[_,H]=e.useState(!1),[W,B]=e.useState(!1),[J,U]=e.useState(!1),[V,Y]=e.useState(null),[X,Q]=e.useState(null),[q,Z]=e.useState(null),[ee,te]=e.useState(null),[se,ie]=e.useState([]),[ae,re]=e.useState(new Date),[le,ne]=e.useState("weekly"),[de,ce]=e.useState(!1),[oe,me]=e.useState(null),[xe,pe]=e.useState(null),[ue,ge]=e.useState({title:"",description:"",timeline:"12",priority:"high",metrics:{target:"",current:""}}),[be,he]=e.useState({title:"",description:"",effort:"medium",impact:"high",timeline:6}),[ye,je]=e.useState({title:"",startDate:(new Date).toISOString().split("T")[0],dueDate:"",assignees:[]}),[ve,fe]=e.useState({name:"",type:"leading",target:"",current:""}),[Ne,we]=e.useState({title:"",target:"",current:""}),[Ce,ke]=e.useState({title:"",date:"",description:""}),[Ie]=e.useState([{id:1,name:"Sarah Chen",role:"CEO",avatar:"SC",available:!0},{id:2,name:"Mike Johnson",role:"CTO",avatar:"MJ",available:!0},{id:3,name:"Emma Davis",role:"Head of Sales",avatar:"ED",available:!0},{id:4,name:"Alex Kumar",role:"Product Lead",avatar:"AK",available:!1},{id:5,name:"Lisa Wang",role:"Marketing",avatar:"LW",available:!0},{id:6,name:"Tom Rodriguez",role:"Engineer",avatar:"TR",available:!0},{id:7,name:"Nina Patel",role:"Designer",avatar:"NP",available:!0},{id:8,name:"James Kim",role:"Customer Success",avatar:"JK",available:!0}]);e.useEffect(()=>{0===R.length&&(D([{id:1,title:"Reach $1M ARR",description:"Scale revenue to $1M annual recurring revenue",timeline:12,priority:"high",status:"active",health:72,progress:45,metrics:{target:"$1,000,000",current:"$450,000"},createdAt:"2025-01-15",initiatives:[{id:1,title:"Enterprise Sales Motion",description:"Build dedicated enterprise sales team and process",effort:"high",impact:"high",timeline:9,probability:75,status:"in_progress",aiGenerated:!0,dependencies:[],resources:{team:3,budget:"$120K"},projects:[{id:1,title:"Hire & Onboard Sales Team",keyResults:[{id:1,title:"Hire 1 Account Executive",progress:80,target:"1 hire",current:"Offer sent",weight:.4},{id:2,title:"Hire 2 SDRs",progress:40,target:"2 hires",current:"3 interviews",weight:.3},{id:3,title:"Setup CRM & Tools",progress:100,target:"Complete",current:"Done",weight:.3}],kpis:[{id:1,name:"Demos Booked",type:"leading",target:40,current:28,trend:"up",health:"warning",unit:"count"},{id:2,name:"Pipeline Value",type:"leading",target:5e5,current:32e4,trend:"up",health:"good",unit:"currency"},{id:3,name:"Deals Closed",type:"lagging",target:5,current:2,trend:"neutral",health:"good",unit:"count"},{id:4,name:"Win Rate",type:"lagging",target:25,current:22,trend:"up",health:"good",unit:"percent"}],assignees:[1,3],status:"in_progress",progress:73,startDate:"2025-01-15",dueDate:"2025-04-15",milestones:[{id:1,title:"Team Hired",date:"2025-03-01",completed:!1,description:"All sales positions filled"},{id:2,title:"First Enterprise Deal",date:"2025-03-15",completed:!1,description:"Close first $50K+ deal"},{id:3,title:"Process Documented",date:"2025-04-01",completed:!1,description:"Sales playbook complete"}]}]},{id:2,title:"Product-Led Growth Motion",description:"Enable self-service signup and viral loops",effort:"medium",impact:"high",timeline:6,probability:85,status:"selected",aiGenerated:!0,dependencies:[],resources:{team:2,budget:"$60K"},projects:[]},{id:3,title:"Strategic Partnerships",description:"Partner with 3 complementary platforms",effort:"medium",impact:"medium",timeline:8,probability:60,status:"suggested",aiGenerated:!0,dependencies:[],resources:{team:1,budget:"$30K"},projects:[]}],aiInsights:[{id:1,type:"warning",severity:"medium",title:"Pipeline Growth Slowing",message:"Demo booking rate is 30% below target for 3 weeks. At current rate, you will miss Q2 revenue target by $180K.",recommendation:"Increase marketing spend by $15K/month OR extend timeline by 2 months",confidence:82,impact:"high",autoAdjust:!0,date:"2025-11-14",data:{currentRate:28,targetRate:40,deficit:12}}]},{id:2,title:"Achieve Product-Market Fit",description:"Reach PMF score of 85+ with clear ICP",timeline:9,priority:"critical",status:"active",health:68,progress:52,metrics:{target:"85 PMF Score",current:"68 Score"},createdAt:"2025-01-20",initiatives:[{id:4,title:"Deep Customer Research",description:"Conduct 50 customer interviews",effort:"high",impact:"high",timeline:4,probability:90,status:"in_progress",aiGenerated:!0,dependencies:[],resources:{team:2,budget:"$20K"},projects:[]}],aiInsights:[{id:3,type:"alert",severity:"high",title:"Churn Rate Increasing",message:"Churn increased from 4% to 7% this month. Top reason: Missing feature X.",recommendation:"Pause new features, focus 2 engineers on retention for 4 weeks",confidence:88,impact:"critical",autoAdjust:!0,date:"2025-11-13",data:{previousChurn:4,currentChurn:7,topReason:"Feature X"}}]}]),ie([{id:1,type:"adjustment",objectiveId:1,title:"Timeline Extension Recommended",description:"Based on current burn rate and pipeline velocity, extending timeline by 2 months increases success probability from 65% to 82%.",action:"Extend timeline from 12 to 14 months",impact:{timeline:"+2 months",probability:"+17%",risk:"-25%"},accepted:!1,confidence:85},{id:2,type:"resource",objectiveId:1,title:"Resource Reallocation Suggested",description:"PLG initiative showing 40% better ROI than enterprise. Consider reallocating 1 team member.",action:"Move 1 person from Enterprise to PLG for 8 weeks",impact:{revenue:"+$85K",efficiency:"+28%",timeline:"neutral"},accepted:!1,confidence:78}]))},[]),e.useEffect(()=>{const e=setInterval(()=>{"weekly"===le&&Math.floor((new Date-ae)/864e5)>=7&&Me()},36e5);return()=>clearInterval(e)},[le,ae]);const Se=e=>{const t={purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},green:{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"},orange:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200"},red:{bg:"bg-red-50",text:"text-red-600",border:"border-red-200"},yellow:{bg:"bg-yellow-50",text:"text-yellow-600",border:"border-yellow-200"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-200"},gray:{bg:"bg-gray-50",text:"text-gray-600",border:"border-gray-200"}};return t[e]||t.gray},Re=e.useCallback(e=>{let t=0;const s=(new Date-new Date(e.createdAt))/(30*e.timeline*24*60*60*1e3)*100,i=e.progress-s;t+=Math.max(0,Math.min(40,40+.4*i));const a=e.initiatives.flatMap(e=>e.projects.flatMap(e=>e.kpis||[]));a.length>0&&(t+=a.reduce((e,t)=>e+("good"===t.health?100:"warning"===t.health?60:30),0)/a.length/100*30),e.aiInsights&&e.aiInsights.length>0?t+=e.aiInsights.reduce((e,t)=>e+("high"===t.severity?0:"medium"===t.severity?50:80),0)/e.aiInsights.length/100*20:t+=20;const r=e.initiatives.flatMap(e=>e.projects.flatMap(e=>e.assignees||[]));return t+=r.reduce((e,t)=>{const s=Ie.find(e=>e.id===t);return e+(s?.available?1:0)},0)/Math.max(r.length,1)*10,Math.round(t)},[Ie]),De=e.useCallback(e=>{if(!e.keyResults||0===e.keyResults.length)return 0;const t=e.keyResults.reduce((e,t)=>e+t.progress*(t.weight||1),0),s=e.keyResults.reduce((e,t)=>e+(t.weight||1),0);return Math.round(t/s)},[]),Pe=e=>e>=80?{label:"Excellent",color:"green",icon:j}:e>=60?{label:"Good",color:"blue",icon:h}:e>=40?{label:"At Risk",color:"orange",icon:f}:{label:"Critical",color:"red",icon:f},Ae=e.useCallback(e=>{let t="revenue";const s=e.title.toLowerCase();return s.includes("pmf")||s.includes("fit")?t="pmf":s.includes("team")||s.includes("hire")?t="team":(s.includes("fund")||s.includes("raise"))&&(t="fundraising"),{revenue:[{title:"Enterprise Sales Motion",effort:"high",impact:"high",timeline:9,probability:75},{title:"Product-Led Growth",effort:"medium",impact:"high",timeline:6,probability:85},{title:"Strategic Partnerships",effort:"medium",impact:"medium",timeline:8,probability:60},{title:"Expansion Revenue",effort:"low",impact:"medium",timeline:4,probability:70}],pmf:[{title:"Deep Customer Research",effort:"high",impact:"high",timeline:4,probability:90},{title:"Feature Iteration Sprint",effort:"high",impact:"high",timeline:3,probability:80},{title:"ICP Refinement",effort:"medium",impact:"high",timeline:2,probability:85},{title:"Retention Program",effort:"medium",impact:"medium",timeline:5,probability:75}],team:[{title:"Strategic Hiring Plan",effort:"high",impact:"high",timeline:6,probability:70},{title:"Culture Building",effort:"medium",impact:"high",timeline:12,probability:80},{title:"Performance Systems",effort:"medium",impact:"medium",timeline:3,probability:90},{title:"Leadership Development",effort:"low",impact:"medium",timeline:6,probability:75}],fundraising:[{title:"Investor Pipeline",effort:"high",impact:"high",timeline:6,probability:65},{title:"Pitch Deck & Materials",effort:"medium",impact:"high",timeline:2,probability:95},{title:"Financial Modeling",effort:"high",impact:"high",timeline:3,probability:90},{title:"Warm Introductions",effort:"medium",impact:"medium",timeline:4,probability:70}]}[t].slice(0,3).map((t,s)=>({id:Date.now()+s,...t,description:`AI-generated initiative to achieve: ${e.title}`,status:"suggested",aiGenerated:!0,dependencies:[],resources:{team:"high"===t.effort?3:"medium"===t.effort?2:1,budget:"$"+("high"===t.effort?"120K":"medium"===t.effort?"60K":"30K")},projects:[]}))},[]),Me=e.useCallback(()=>{L(!0),setTimeout(()=>{D(e=>{const t=e.map(e=>{const t=Re(e),s=e.initiatives.reduce((e,t)=>e+t.projects.length,0),i=e.initiatives.reduce((e,t)=>e+t.projects.reduce((e,t)=>e+t.progress,0),0),a=s>0?Math.round(i/s):e.progress,r=[],l=(new Date-new Date(e.createdAt))/2592e6/e.timeline*100;a<l-15&&r.push({id:Date.now()+Math.random(),type:"warning",severity:"medium",title:"Behind Schedule",message:`You're ${Math.round(l-a)}% behind expected progress. Timeline may need adjustment.`,recommendation:"Add resources OR extend timeline OR descope features",confidence:85,impact:"high",autoAdjust:!0,date:(new Date).toISOString().split("T")[0]});const n=e.initiatives.flatMap(e=>e.projects.flatMap(e=>e.kpis||[])).filter(e=>"critical"===e.health||"warning"===e.health);return n.length>0&&r.push({id:Date.now()+Math.random()+1,type:"alert",severity:"high",title:"KPIs Need Attention",message:`${n.length} KPI(s) are underperforming. This may impact objective success.`,recommendation:`Focus on improving: ${n.slice(0,2).map(e=>e.name).join(", ")}`,confidence:90,impact:"critical",autoAdjust:!1,date:(new Date).toISOString().split("T")[0]}),{...e,health:t,progress:a,aiInsights:[...e.aiInsights||[],...r].slice(-5)}}),s=[];return t.forEach(e=>{const t=e.initiatives.filter(e=>"in_progress"===e.status||"selected"===e.status);t.length>3&&s.push({id:Date.now()+Math.random(),type:"resource",objectiveId:e.id,title:"Too Many Parallel Initiatives",description:`Running ${t.length} initiatives simultaneously may dilute focus.`,action:"Prioritize top 2-3 initiatives",impact:{focus:"+40%",timeline:"-2 months",efficiency:"+35%"},accepted:!1,confidence:82}),e.health<60&&s.push({id:Date.now()+Math.random()+1,type:"adjustment",objectiveId:e.id,title:"Health Score Declining",description:`Objective health at ${e.health}%. Timeline extension may be needed.`,action:"Extend timeline by 3 months OR add 2 team members",impact:{probability:"+20%",timeline:"+3 months",cost:"+$45K"},accepted:!1,confidence:88})}),s.length>0&&ie(e=>[...e,...s].slice(-10)),t}),re(new Date),setTimeout(()=>L(!1),2e3)},2e3)},[Re]),ze=(e,t)=>{const s={id:Date.now(),title:`Project: ${e.title}`,keyResults:[{id:1,title:"Key Result 1",progress:0,target:"Define target",current:"Not started",weight:.4},{id:2,title:"Key Result 2",progress:0,target:"Define target",current:"Not started",weight:.3},{id:3,title:"Key Result 3",progress:0,target:"Define target",current:"Not started",weight:.3}],kpis:[{id:1,name:"Leading KPI 1",type:"leading",target:100,current:0,trend:"neutral",health:"good",unit:"count"},{id:2,name:"Lagging KPI 1",type:"lagging",target:100,current:0,trend:"neutral",health:"good",unit:"count"}],assignees:[],status:"planning",progress:0,startDate:(new Date).toISOString().split("T")[0],dueDate:new Date(Date.now()+30*e.timeline*24*60*60*1e3).toISOString().split("T")[0],milestones:[{id:1,title:"Milestone 1",date:"",completed:!1,description:"Define first milestone"}]};D(i=>i.map(i=>i.id===t?{...i,initiatives:i.initiatives.map(t=>t.id===e.id?{...t,status:"in_progress",projects:[...t.projects,s]}:t)}:i))},$e=[{id:"strategy",label:"Strategy Map",icon:a,description:"Goal hierarchy"},{id:"initiatives",label:"Initiatives",icon:r,description:"AI-generated"},{id:"projects",label:"Active Projects",icon:l,description:"In execution"},{id:"intelligence",label:"AI Intelligence",icon:n,description:"Recommendations"},{id:"analytics",label:"Analytics",icon:d,description:"Performance"}];return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[t.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"IMPACTS"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Intelligent Adaptive OKRs • Recalibrates Weekly"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right mr-4",children:[t.jsx("div",{className:"text-xs text-gray-600",children:"Last Recalibration"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:ae.toLocaleDateString()}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Next: ",new Date(ae.getTime()+6048e5).toLocaleDateString()]})]}),t.jsxs("button",{onClick:Me,className:"flex items-center space-x-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-medium border border-gray-200",children:[t.jsx(s,{size:18}),t.jsx("span",{children:"Recalibrate Now"})]}),t.jsxs("button",{onClick:()=>{ce(!1),z(!0)},className:"flex items-center space-x-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-medium shadow-sm hover:shadow",children:[t.jsx(i,{size:18}),t.jsx("span",{children:"New Objective"})]})]})]}),t.jsx("div",{className:"grid grid-cols-5 gap-4",children:[{label:"Active Objectives",value:R.filter(e=>"active"===e.status).length},{label:"Initiatives",value:R.reduce((e,t)=>e+t.initiatives.length,0)},{label:"Active Projects",value:R.reduce((e,t)=>e+t.initiatives.reduce((e,t)=>e+t.projects.length,0),0)},{label:"AI Recommendations",value:se.filter(e=>!e.accepted).length},{label:"Avg Health Score",value:R.length>0?`${Math.round(R.reduce((e,t)=>e+t.health,0)/R.length)}%`:"0%"}].map((e,s)=>t.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*s},className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:[t.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:e.label}),t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.value})]},s))})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6 p-1.5",children:t.jsx("div",{className:"flex space-x-1",children:$e.map(e=>{const s=e.icon;return t.jsxs("button",{onClick:()=>S(e.id),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg transition-all flex-1 font-medium "+(I===e.id?"bg-blue-600 text-white shadow-sm":"text-gray-700 hover:bg-gray-50"),children:[t.jsx(s,{size:18}),t.jsx("span",{className:"text-sm",children:e.label})]},e.id)})})}),t.jsxs(k,{mode:"wait",children:["strategy"===I&&t.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:0===R.length?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border-2 border-dashed border-gray-300 p-12 text-center",children:[t.jsx(c,{className:"mx-auto text-blue-600 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Objectives Yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first objective and let AI generate strategic initiatives"}),t.jsx("button",{onClick:()=>z(!0),className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-all shadow-sm hover:shadow",children:"Create First Objective"})]}):R.map((e,s)=>{const i=Pe(e.health),a=i.icon;return Se({critical:"red",high:"orange",medium:"yellow",low:"blue"}[e.priority]||"gray"),t.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 bg-white",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.title}),t.jsx("span",{className:"px-2.5 py-1 text-xs font-semibold rounded-lg uppercase border "+("critical"===e.priority||"high"===e.priority?"bg-red-100 text-red-700 border-red-200":"medium"===e.priority?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-gray-100 text-gray-700 border-gray-200"),children:"critical"===e.priority||"high"===e.priority?"CRITICAL":e.priority.toUpperCase()})]}),t.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right mr-4",children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Health Score"}),t.jsxs("div",{className:`text-2xl font-bold ${Se(i.color).text} flex items-center space-x-2`,children:[t.jsx(a,{size:20}),t.jsxs("span",{children:[e.health,"%"]})]}),t.jsx("div",{className:`text-xs ${Se(i.color).text}`,children:i.label})]}),t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("button",{onClick:()=>(e=>{ce(!0),me(e.id),ge({title:e.title,description:e.description,timeline:e.timeline.toString(),priority:e.priority,metrics:e.metrics}),z(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit objective",children:t.jsx(o,{size:18})}),t.jsx("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this objective? This will remove all associated initiatives and projects.")&&D(e=>e.filter(e=>e.id!==t)));var t},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete objective",children:t.jsx(m,{size:18})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Timeline"}),t.jsxs("div",{className:"font-semibold text-gray-900",children:[e.timeline," months"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Progress"}),t.jsxs("div",{className:"font-semibold text-gray-900",children:[e.progress,"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Current"}),t.jsx("div",{className:"font-semibold text-gray-900",children:e.metrics.current})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Target"}),t.jsx("div",{className:"font-semibold text-gray-900",children:e.metrics.target})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-4",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${e.progress}%`}})})]}),e.aiInsights&&e.aiInsights.length>0&&t.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-200",children:e.aiInsights.map(e=>{const s="alert"===e.type,i="warning"===e.type;return t.jsx("div",{className:"p-4 rounded-xl border border-blue-200 bg-blue-50 mb-3 last:mb-0",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[t.jsx(n,{className:"text-blue-600",size:20}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-bold text-gray-900",children:e.title}),t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded border "+(s?"bg-yellow-100 text-yellow-700 border-yellow-200":i?"bg-orange-100 text-orange-700 border-orange-200":"bg-blue-100 text-blue-700 border-blue-200"),children:s?"alert":i?"warning":e.type}),t.jsxs("span",{className:"text-xs text-gray-500",children:[e.confidence,"% confidence"]})]}),t.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.message}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(x,{size:14,className:"text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-600",children:e.recommendation})]})]})]}),e.autoAdjust&&t.jsx("button",{className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all shadow-sm hover:shadow",children:"Auto-Adjust"})]})},e.id)})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[t.jsx(r,{size:20,className:"text-blue-600"}),t.jsxs("span",{children:["Initiatives (",e.initiatives.length,")"]})]}),0===e.initiatives.length?t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[t.jsx(n,{className:"mx-auto text-blue-600 mb-3",size:32}),t.jsx("p",{className:"text-gray-600 mb-4",children:"AI is generating initiatives for this objective..."}),t.jsx("div",{className:"w-16 h-1 bg-blue-600 rounded-full mx-auto animate-pulse"})]}):t.jsx("div",{className:"space-y-4",children:e.initiatives.map(s=>{const i={high:"blue",medium:"blue",low:"blue"},a={high:"blue",medium:"blue",low:"gray"};return t.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4 hover:border-gray-200 transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-bold text-gray-900",children:s.title}),s.aiGenerated&&t.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-semibold rounded border border-blue-200 flex items-center space-x-1",children:[t.jsx(n,{size:12}),t.jsx("span",{children:"NEW"})]}),t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded border "+("in_progress"===s.status?"bg-blue-100 text-blue-700 border-blue-200":"selected"===s.status?"bg-purple-100 text-purple-700 border-purple-200":"suggested"===s.status?"bg-orange-100 text-orange-700 border-orange-200":"bg-gray-100 text-gray-700 border-gray-200"),children:s.status.replace("_"," ")})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),t.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Effort"}),t.jsx("span",{className:`px-2 py-1 ${Se(i[s.effort]).bg} ${Se(i[s.effort]).text} rounded font-medium text-xs`,children:s.effort})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Impact"}),t.jsx("span",{className:`px-2 py-1 ${Se(a[s.impact]).bg} ${Se(a[s.impact]).text} rounded font-medium text-xs`,children:s.impact})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Timeline"}),t.jsxs("div",{className:"font-medium text-gray-900",children:[s.timeline,"m"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Success"}),t.jsxs("div",{className:"font-medium text-gray-900",children:[s.probability,"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Resources"}),t.jsxs("div",{className:"font-medium text-gray-900",children:[s.resources.team," team"]})]})]})]}),t.jsxs("div",{className:"ml-4 flex flex-col space-y-2",children:["suggested"===s.status&&t.jsx("button",{onClick:()=>ze(s,e.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all whitespace-nowrap shadow-sm",children:"Convert to Project"}),s.projects.length>0&&t.jsxs("button",{className:"px-4 py-2 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg text-sm font-medium hover:bg-blue-100 transition-all",children:["View Projects (",s.projects.length,")"]})]})]}),s.projects.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Active Projects:"}),s.projects.map(e=>t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.title}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[e.progress,"%"]}),t.jsx("div",{className:"flex -space-x-2",children:e.assignees.map(e=>{const s=Ie.find(t=>t.id===e);return s?t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 border-2 border-white flex items-center justify-center text-white text-xs font-bold",title:s.name,children:s.avatar},s.id):null})})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${e.progress}%`}})})]},e.id))]})]},s.id)})})]})]},e.id)})},"strategy"),"initiatives"===I&&t.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:0===R.length||R.every(e=>0===e.initiatives.length)?t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300 p-12 text-center",children:[t.jsx(r,{className:"mx-auto text-blue-600 mb-4",size:48}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Initiatives Yet"}),t.jsx("p",{className:"text-gray-600",children:"Create an objective and AI will generate strategic initiatives"})]}):R.map(e=>e.initiatives.length>0&&t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx(p,{className:"text-blue-600",size:20}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.title})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[e.initiatives.length," initiative(s) • ",e.health,"% health score"]})]})}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.initiatives.map(s=>{const i={high:"blue",medium:"blue",low:"blue"},a={high:"blue",medium:"blue",low:"gray"};return t.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-5 hover:border-blue-300 transition-all",children:t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h4",{className:"font-bold text-gray-900",children:s.title}),s.aiGenerated&&t.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-semibold rounded border border-blue-200 flex items-center space-x-1",children:[t.jsx(n,{size:12}),t.jsx("span",{children:"NEW"})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Effort"}),t.jsx("span",{className:`px-2 py-0.5 ${Se(i[s.effort]).bg} ${Se(i[s.effort]).text} rounded font-medium text-xs`,children:s.effort})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Impact"}),t.jsx("span",{className:`px-2 py-0.5 ${Se(a[s.impact]).bg} ${Se(a[s.impact]).text} rounded font-medium text-xs`,children:s.impact})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Timeline"}),t.jsxs("span",{className:"font-medium text-gray-900",children:[s.timeline," months"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Success Probability"}),t.jsxs("span",{className:"font-medium text-gray-900",children:[s.probability,"%"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Resources"}),t.jsxs("span",{className:"font-medium text-gray-900",children:[s.resources.team," team • ",s.resources.budget]})]})]}),t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Status"}),t.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full border "+("in_progress"===s.status?"bg-blue-100 text-blue-700 border-blue-200":"selected"===s.status?"bg-purple-100 text-purple-700 border-purple-200":"suggested"===s.status?"bg-orange-100 text-orange-700 border-orange-200":"bg-gray-100 text-gray-700 border-gray-200"),children:s.status.replace("_"," ")}),s.projects.length>0&&t.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[s.projects.length," active project(s)"]})]}),"suggested"===s.status&&t.jsxs("button",{onClick:()=>ze(s,e.id),className:"mt-4 w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all flex items-center justify-center space-x-2 shadow-sm",children:[t.jsx(u,{size:16}),t.jsx("span",{children:"Convert to Project"})]}),"in_progress"===s.status&&t.jsxs("button",{onClick:()=>S("projects"),className:"mt-4 w-full px-4 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-100 transition-all flex items-center justify-center space-x-2",children:[t.jsx(g,{size:16}),t.jsxs("span",{children:["View Projects (",s.projects.length,")"]})]})]})})},s.id)})})]},e.id))},"initiatives"),"projects"===I&&t.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:0===R.flatMap(e=>e.initiatives.flatMap(t=>t.projects.map(s=>({project:s,init:t,obj:e})))).length?t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300 p-12 text-center",children:[t.jsx(l,{className:"mx-auto text-blue-600 mb-4",size:48}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Projects"}),t.jsx("p",{className:"text-gray-600",children:"Convert initiatives to projects to start tracking execution"})]}):R.flatMap(e=>e.initiatives.flatMap(s=>s.projects.map(a=>t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-6",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx(l,{className:"text-blue-600",size:24}),t.jsx("input",{type:"text",value:a.title,onChange:t=>{const i=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,title:i}:e)}:e)}:t))},className:"text-2xl font-bold text-gray-900 border-b-2 border-transparent focus:border-gray-200 outline-none px-1",placeholder:"Project title"}),t.jsxs("select",{value:a.status,onChange:t=>{const i=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,status:i}:e)}:e)}:t))},className:"px-3 py-1 text-xs font-semibold rounded-full outline-none cursor-pointer border "+("in_progress"===a.status?"bg-blue-100 text-blue-700 border-blue-200":"planning"===a.status?"bg-orange-100 text-orange-700 border-orange-200":"completed"===a.status?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"),children:[t.jsx("option",{value:"planning",children:"planning"}),t.jsx("option",{value:"in_progress",children:"in progress"}),t.jsx("option",{value:"completed",children:"completed"})]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Initiative: ",s.title," → Objective: ",e.title]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right mr-4",children:[t.jsx("div",{className:"text-xs text-gray-600",children:"Progress"}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a.progress,"%"]})]}),t.jsxs("div",{className:"flex -space-x-2",children:[a.assignees.map(i=>{const r=Ie.find(e=>e.id===i);return r?t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 border-2 border-white flex items-center justify-center text-white text-sm font-bold cursor-pointer hover:scale-110 transition-transform",title:r.name,onClick:()=>{Q({project:a,objId:e.id,initId:s.id}),B(!0)},children:r.avatar},r.id):null}),t.jsx("button",{onClick:()=>{Q({project:a,objId:e.id,initId:s.id}),B(!0)},className:"w-10 h-10 rounded-full border-2 border-dashed border-gray-300 bg-white flex items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400 transition-all",children:t.jsx(b,{size:18})})]})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-6",children:t.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:`${a.progress}%`}})}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-bold text-gray-900 flex items-center space-x-2",children:[t.jsx(p,{size:18,className:"text-blue-600"}),t.jsx("span",{children:"Key Results"})]}),t.jsx("button",{onClick:()=>{Q({project:a,objId:e.id,initId:s.id}),H(!0)},className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:t.jsx(i,{size:16})})]}),t.jsx("div",{className:"space-y-3",children:a.keyResults.map(i=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm flex-1",children:i.title}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",value:i.progress,onChange:t=>{return r=e.id,l=s.id,n=a.id,d=i.id,c=parseInt(t.target.value),void D(e=>e.map(e=>e.id===r?{...e,initiatives:e.initiatives.map(e=>e.id===l?{...e,projects:e.projects.map(e=>{if(e.id===n){const t=e.keyResults.map(e=>e.id===d?{...e,progress:Math.min(100,Math.max(0,c))}:e),s=De({...e,keyResults:t});return{...e,keyResults:t,progress:s}}return e})}:e)}:e));var r,l,n,d,c},className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm font-bold text-blue-600 text-right",min:"0",max:"100",title:"Update progress"}),t.jsx("span",{className:"text-xs text-gray-600",children:"%"})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-2",children:t.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${i.progress}%`}})}),t.jsxs("div",{className:"flex justify-between items-center text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Current: "}),t.jsx("input",{type:"text",value:i.current,onChange:t=>{const r=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,keyResults:e.keyResults.map(e=>e.id===i.id?{...e,current:r}:e)}:e)}:e)}:t))},className:"w-24 px-1 py-0.5 border border-gray-200 rounded text-xs",placeholder:"Current"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Target: "}),t.jsx("input",{type:"text",value:i.target,onChange:t=>{const r=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,keyResults:e.keyResults.map(e=>e.id===i.id?{...e,target:r}:e)}:e)}:e)}:t))},className:"w-24 px-1 py-0.5 border border-gray-200 rounded text-xs",placeholder:"Target"})]})]})]},i.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-bold text-gray-900 flex items-center space-x-2",children:[t.jsx(h,{size:18,className:"text-blue-600"}),t.jsx("span",{children:"KPIs"})]}),t.jsx("button",{onClick:()=>{Q({project:a,objId:e.id,initId:s.id}),F(!0)},className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:t.jsx(i,{size:16})})]}),t.jsx("div",{className:"space-y-3",children:a.kpis.map(i=>{const r={good:"green",warning:"yellow",critical:"red"},l={up:t.jsx(w,{size:14,className:"text-blue-600"}),down:t.jsx(N,{size:14,className:"text-black"}),neutral:t.jsx(h,{size:14,className:"text-gray-600"})};return t.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("input",{type:"text",value:i.name,onChange:t=>{const r=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,kpis:e.kpis.map(e=>e.id===i.id?{...e,name:r}:e)}:e)}:e)}:t))},className:"font-medium text-gray-900 text-sm flex-1 border-b border-transparent focus:border-blue-300 outline-none px-1",placeholder:"KPI name"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[l[i.trend],t.jsx("span",{className:`px-2 py-0.5 ${Se(r[i.health]).bg} ${Se(r[i.health]).text} text-xs font-medium rounded`,children:i.health})]})]}),t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-semibold rounded border mb-2 "+("leading"===i.type?"bg-purple-100 text-purple-700 border-purple-200":"bg-indigo-100 text-indigo-700 border-indigo-200"),children:[i.type," indicator"]}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[t.jsx("input",{type:"number",value:i.current,onChange:t=>{return r=e.id,l=s.id,n=a.id,d=i.id,c=parseFloat(t.target.value),void D(e=>e.map(e=>e.id===r?{...e,initiatives:e.initiatives.map(e=>e.id===l?{...e,projects:e.projects.map(e=>e.id===n?{...e,kpis:e.kpis.map(e=>{if(e.id===d){const t=e.current,s=c>t?"up":c<t?"down":"neutral",i=c/e.target*100,a=i>=80?"good":i>=50?"warning":"critical";return{...e,current:c,trend:s,health:a}}return e})}:e)}:e)}:e));var r,l,n,d,c},className:"w-20 px-2 py-1 border border-gray-300 rounded font-medium text-gray-900",title:"Current value"}),t.jsx("span",{className:"text-gray-600",children:"/ "}),t.jsx("input",{type:"number",value:i.target,onChange:t=>{const r=parseFloat(t.target.value);D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,kpis:e.kpis.map(e=>e.id===i.id?{...e,target:r}:e)}:e)}:e)}:t))},className:"w-20 px-2 py-1 border border-gray-300 rounded font-medium text-gray-600",title:"Target value"})]})]},i.id)})})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h4",{className:"font-bold text-gray-900 flex items-center space-x-2",children:[t.jsx(y,{size:18,className:"text-blue-600"}),t.jsx("span",{children:"Milestones"})]}),t.jsx("button",{onClick:()=>{Q({project:a,objId:e.id,initId:s.id}),U(!0)},className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:"Add Milestone"})]}),t.jsx("div",{className:"space-y-2",children:a.milestones.map(i=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border "+(i.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:[t.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t.jsx("button",{onClick:()=>{return t=e.id,r=s.id,l=a.id,n=i.id,void D(e=>e.map(e=>e.id===t?{...e,initiatives:e.initiatives.map(e=>e.id===r?{...e,projects:e.projects.map(e=>e.id===l?{...e,milestones:e.milestones.map(e=>e.id===n?{...e,completed:!e.completed}:e)}:e)}:e)}:e));var t,r,l,n},className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all "+(i.completed?"bg-green-600 border-green-600":"border-gray-300 hover:border-blue-400"),children:i.completed&&t.jsx(j,{size:16,className:"text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("input",{type:"text",value:i.title,onChange:t=>{const r=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,milestones:e.milestones.map(e=>e.id===i.id?{...e,title:r}:e)}:e)}:e)}:t))},className:`font-medium ${i.completed?"text-blue-600 line-through":"text-gray-900"} border-b border-transparent focus:border-gray-200 outline-none px-1 w-full`,placeholder:"Milestone title"}),i.description&&t.jsx("textarea",{value:i.description,onChange:t=>{const r=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,milestones:e.milestones.map(e=>e.id===i.id?{...e,description:r}:e)}:e)}:e)}:t))},className:"text-xs text-gray-600 border-b border-transparent focus:border-gray-200 outline-none px-1 w-full resize-none",rows:"1",placeholder:"Description"})]})]}),t.jsx("input",{type:"date",value:i.date||"",onChange:t=>{const r=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,milestones:e.milestones.map(e=>e.id===i.id?{...e,date:r}:e)}:e)}:e)}:t))},className:"text-sm text-gray-600 px-2 py-1 border border-gray-200 rounded"})]},i.id))})]}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-600",children:"Start: "}),t.jsx("input",{type:"date",value:a.startDate,onChange:t=>{const i=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,startDate:i}:e)}:e)}:t))},className:"font-medium text-gray-900 px-2 py-1 border border-gray-200 rounded"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-600",children:"Due: "}),t.jsx("input",{type:"date",value:a.dueDate,onChange:t=>{const i=t.target.value;D(t=>t.map(t=>t.id===e.id?{...t,initiatives:t.initiatives.map(e=>e.id===s.id?{...e,projects:e.projects.map(e=>e.id===a.id?{...e,dueDate:i}:e)}:e)}:t))},className:"font-medium text-gray-900 px-2 py-1 border border-gray-200 rounded"})]})]})})]},a.id))))},"projects"),"intelligence"===I&&t.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-3",children:[t.jsx(n,{className:"text-blue-600",size:28}),t.jsx("span",{children:"AI Intelligence & Recommendations"})]}),0===se.length?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(j,{className:"mx-auto text-blue-600 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"All Clear!"}),t.jsx("p",{className:"text-gray-600",children:"No recommendations at the moment. Your strategy is on track."})]}):t.jsx("div",{className:"space-y-4",children:se.map(e=>{const s=R.find(t=>t.id===e.objectiveId),i=Se({adjustment:"blue",resource:"green",risk:"orange",opportunity:"purple"}[e.type]);return t.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`border-2 ${e.accepted?"border-gray-200 bg-blue-600":i.border} rounded-xl p-5`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx(x,{className:i.text,size:20}),t.jsx("h3",{className:"font-bold text-gray-900",children:e.title}),t.jsx("span",{className:`px-2 py-1 ${i.bg} ${i.text} text-xs font-medium rounded`,children:e.type}),t.jsxs("span",{className:"text-xs text-gray-500",children:[e.confidence,"% confidence"]}),e.accepted&&t.jsxs("span",{className:"px-2 py-1 bg-blue-600 text-blue-600 text-xs font-medium rounded flex items-center space-x-1",children:[t.jsx(j,{size:12}),t.jsx("span",{children:"Applied"})]})]}),s&&t.jsxs("div",{className:"text-xs text-gray-600 mb-3",children:["For objective: ",t.jsx("span",{className:"font-medium",children:s.title})]}),t.jsx("p",{className:"text-gray-700 mb-3",children:e.description}),t.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Recommended Action:"}),t.jsx("div",{className:"text-sm text-blue-600",children:e.action})]}),t.jsx("div",{className:"flex items-center space-x-6 text-sm",children:Object.entries(e.impact).map(([e,s])=>t.jsxs("div",{children:[t.jsxs("span",{className:"text-gray-600 capitalize",children:[e,": "]}),t.jsx("span",{className:"font-medium text-gray-900",children:s})]},e))})]}),!e.accepted&&t.jsxs("div",{className:"ml-4 flex flex-col space-y-2",children:[t.jsx("button",{onClick:()=>{return t=e,ie(e=>e.map(e=>e.id===t.id?{...e,accepted:!0}:e)),void("adjustment"===t.type?D(e=>e.map(e=>e.id===t.objectiveId?{...e,timeline:e.timeline+2,health:Math.min(100,e.health+10)}:e)):t.type);var t},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:shadow-lg transition-all whitespace-nowrap",children:"Accept & Apply"}),t.jsx("button",{onClick:()=>{return t=e.id,void ie(e=>e.filter(e=>e.id!==t));var t},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-all",children:"Dismiss"})]})]})},e.id)})})]})},"intelligence"),"analytics"===I&&t.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Overall Progress"}),t.jsx("div",{className:"space-y-4",children:R.map(e=>{const s=Pe(e.health),i=Se(s.color);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.title}),t.jsxs("span",{className:`text-sm font-bold ${i.text}`,children:[e.progress,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"h-2 rounded-full bg-blue-600",style:{width:`${e.progress}%`}})})]},e.id)})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Health Scores"}),t.jsx("div",{className:"space-y-4",children:R.map(e=>{const s=Pe(e.health),i=s.icon,a=Se(s.color);return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.title}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(i,{size:16,className:a.text}),t.jsxs("span",{className:`font-bold ${a.text}`,children:[e.health,"%"]}),t.jsx("span",{className:`text-xs ${a.text}`,children:s.label})]})]},e.id)})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Team Utilization"}),t.jsx("div",{className:"space-y-3",children:Ie.map(e=>{const s=R.reduce((t,s)=>t+s.initiatives.reduce((t,s)=>t+s.projects.filter(t=>t.assignees.includes(e.id)).length,0),0),i=25*s;return t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-bold",children:e.avatar}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.name}),t.jsx("div",{className:"text-xs text-gray-600",children:e.role})]}),t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s," projects"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"h-2 rounded-full bg-blue-600",style:{width:`${Math.min(i,100)}%`}})})]})]},e.id)})})]})]},"analytics")]}),t.jsx(k,{children:M&&t.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{z(!1),ce(!1),me(null)},children:t.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:de?"Edit Objective":"Create New Objective"}),t.jsx("button",{onClick:()=>{z(!1),ce(!1),me(null)},className:"w-10 h-10 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",children:t.jsx(v,{size:20})})]})}),t.jsxs("div",{className:"p-6 space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Objective Title *"}),t.jsx("input",{type:"text",value:ue.title,onChange:e=>ge({...ue,title:e.target.value}),placeholder:"e.g., Reach $1M ARR",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0 font-medium text-gray-900"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Description"}),t.jsx("textarea",{value:ue.description,onChange:e=>ge({...ue,description:e.target.value}),placeholder:"Describe your objective...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0 font-medium text-gray-900"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Timeline (months)"}),t.jsx("input",{type:"number",value:ue.timeline,onChange:e=>ge({...ue,timeline:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0 font-medium text-gray-900"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Priority"}),t.jsxs("select",{value:ue.priority,onChange:e=>ge({...ue,priority:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0 font-medium text-gray-900",children:[t.jsx("option",{value:"critical",children:"Critical"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"low",children:"Low"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Target Metric"}),t.jsx("input",{type:"text",value:ue.metrics.target,onChange:e=>ge({...ue,metrics:{...ue.metrics,target:e.target.value}}),placeholder:"e.g., $1,000,000",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0 font-medium text-gray-900"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Current Metric"}),t.jsx("input",{type:"text",value:ue.metrics.current,onChange:e=>ge({...ue,metrics:{...ue.metrics,current:e.target.value}}),placeholder:"e.g., $250,000",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0 font-medium text-gray-900"})]})]}),!de&&t.jsx("div",{className:"bg-white rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(n,{className:"text-blue-600 mt-0.5",size:20}),t.jsxs("div",{className:"text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"AI will generate 3-4 strategic initiatives"})," based on your objective, analyzing industry benchmarks and best practices."]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3 sticky bottom-0 bg-white",children:[t.jsx("button",{onClick:()=>{z(!1),ce(!1),me(null)},className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:de?()=>{D(e=>e.map(e=>e.id===oe?{...e,title:ue.title,description:ue.description,timeline:parseInt(ue.timeline)||e.timeline,priority:ue.priority,metrics:ue.metrics}:e)),z(!1),ce(!1),me(null),ge({title:"",description:"",timeline:"12",priority:"high",metrics:{target:"",current:""}})}:()=>{if(!ue.title)return void alert("Please enter an objective title");const e={id:Date.now(),title:ue.title,description:ue.description,timeline:parseInt(ue.timeline)||12,priority:ue.priority,metrics:ue.metrics,status:"active",health:100,progress:0,createdAt:(new Date).toISOString().split("T")[0],initiatives:[],aiInsights:[]};D(t=>[...t,e]),z(!1),ge({title:"",description:"",timeline:"12",priority:"high",metrics:{target:"",current:""}}),setTimeout(()=>{const t=Ae(e);D(s=>s.map(s=>s.id===e.id?{...s,initiatives:t}:s))},1e3)},disabled:!ue.title,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:de?"Update Objective":"Create Objective"})]})]})})}),t.jsx(k,{children:G&&X&&t.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>F(!1),children:t.jsxs(C.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add KPI"})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("input",{type:"text",placeholder:"KPI Name",value:ve.name,onChange:e=>fe({...ve,name:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-0"}),t.jsxs("select",{value:ve.type,onChange:e=>fe({...ve,type:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-0",children:[t.jsx("option",{value:"leading",children:"Leading Indicator"}),t.jsx("option",{value:"lagging",children:"Lagging Indicator"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("input",{type:"number",placeholder:"Target",value:ve.target,onChange:e=>fe({...ve,target:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-0"}),t.jsx("input",{type:"number",placeholder:"Current",value:ve.current,onChange:e=>fe({...ve,current:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-0"})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>((e,t,s)=>{if(!ve.name)return void alert("Please enter a KPI name");const i={id:Date.now(),name:ve.name,type:ve.type,target:parseFloat(ve.target)||0,current:parseFloat(ve.current)||0,trend:"neutral",health:"good",unit:"count"};D(a=>a.map(a=>a.id===t?{...a,initiatives:a.initiatives.map(t=>t.id===s?{...t,projects:t.projects.map(t=>t.id===e?{...t,kpis:[...t.kpis,i]}:t)}:t)}:a)),F(!1),fe({name:"",type:"leading",target:"",current:""})})(X.project.id,X.objId,X.initId),className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Add KPI"})]})]})})}),t.jsx(k,{children:_&&X&&t.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>H(!1),children:t.jsxs(C.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Key Result"})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("input",{type:"text",placeholder:"Key Result Title",value:Ne.title,onChange:e=>we({...Ne,title:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("input",{type:"text",placeholder:"Target",value:Ne.target,onChange:e=>we({...Ne,target:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0"}),t.jsx("input",{type:"text",placeholder:"Current Status",value:Ne.current,onChange:e=>we({...Ne,current:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0"})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>((e,t,s)=>{if(!Ne.title)return void alert("Please enter a key result title");const i={id:Date.now(),title:Ne.title,target:Ne.target,current:Ne.current,progress:0,weight:.25};D(a=>a.map(a=>a.id===t?{...a,initiatives:a.initiatives.map(t=>t.id===s?{...t,projects:t.projects.map(t=>t.id===e?{...t,keyResults:[...t.keyResults,i]}:t)}:t)}:a)),H(!1),we({title:"",target:"",current:""})})(X.project.id,X.objId,X.initId),className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-600",children:"Add Key Result"})]})]})})}),t.jsx(k,{children:W&&X&&t.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>B(!1),children:t.jsxs(C.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assign Team Members"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click to toggle assignment"})]}),t.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:t.jsx("div",{className:"space-y-2",children:Ie.map(e=>{const s=X.project.assignees.includes(e.id);return t.jsxs("button",{onClick:()=>{return t=X.project.id,s=X.objId,i=X.initId,a=e.id,void D(e=>e.map(e=>e.id===s?{...e,initiatives:e.initiatives.map(e=>e.id===i?{...e,projects:e.projects.map(e=>e.id===t?{...e,assignees:e.assignees.includes(a)?e.assignees.filter(e=>e!==a):[...e.assignees,a]}:e)}:e)}:e));var t,s,i,a},className:"w-full flex items-center space-x-3 p-3 rounded-xl border-2 transition-all "+(s?"border-gray-200 bg-blue-600":"border-gray-200 hover:border-gray-300"),children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold "+(s?"bg-blue-600":"bg-gray-400"),children:e.avatar}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.name}),t.jsx("div",{className:"text-sm text-gray-600",children:e.role})]}),s&&t.jsx(j,{size:20,className:"text-blue-600"})]},e.id)})})}),t.jsx("div",{className:"p-6 border-t border-gray-200",children:t.jsx("button",{onClick:()=>B(!1),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-600 font-medium",children:"Done"})})]})})}),t.jsx(k,{children:J&&X&&t.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>U(!1),children:t.jsxs(C.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Milestone"})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("input",{type:"text",placeholder:"Milestone Title",value:Ce.title,onChange:e=>ke({...Ce,title:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0"}),t.jsx("input",{type:"date",value:Ce.date,onChange:e=>ke({...Ce,date:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0"}),t.jsx("textarea",{placeholder:"Description (optional)",value:Ce.description,onChange:e=>ke({...Ce,description:e.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-gray-200 focus:ring-0"})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>((e,t,s)=>{if(!Ce.title||!Ce.date)return void alert("Please enter milestone title and date");const i={id:Date.now(),title:Ce.title,date:Ce.date,description:Ce.description,completed:!1};D(a=>a.map(a=>a.id===t?{...a,initiatives:a.initiatives.map(t=>t.id===s?{...t,projects:t.projects.map(t=>t.id===e?{...t,milestones:[...t.milestones,i]}:t)}:t)}:a)),U(!1),ke({title:"",date:"",description:""})})(X.project.id,X.objId,X.initId),className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-600",children:"Add Milestone"})]})]})})}),t.jsx(k,{children:E&&t.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(s,{size:40,className:"text-white animate-spin"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recalibrating Strategy..."}),t.jsx("p",{className:"text-gray-600",children:"AI is analyzing KPIs, market signals, team velocity, and progress metrics to update your objectives."}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Analyzing health scores"}),t.jsx(j,{size:16,className:"text-blue-600"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Checking timelines"}),t.jsx("div",{className:"w-4 h-4 border-2 border-gray-200 border-t-transparent rounded-full animate-spin"})]}),t.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400",children:t.jsx("span",{children:"Generating recommendations"})})]})]})})})]})};export{I as default};
